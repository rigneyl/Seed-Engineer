/* Story Architect MVP â€” minimal dark UI */
:root{
  --bg:#0e0f12;
  --panel:#151821;
  --panel-2:#10131a;
  --text:#e8e8ea;
  --muted:#a9adba;
  --accent:#7aa2ff;
  --accent-2:#56d3c2;
  --red:#ff6363;
  --yellow:#ffd66b;
  --radius:16px;
  --shadow: 0 8px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:linear-gradient(180deg, #0b0c10 0%, #0e0f12 60%, #0a0b0e 100%);
  color:var(--text); font: 15px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
}

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 18px; gap:12px;
  background:rgba(9,10,13,.7); backdrop-filter: blur(8px);
  border-bottom:1px solid #1d2130;
}

.brand{ display:flex; gap:10px; align-items:center }
.brand .dot{ width:10px; height:10px; border-radius:50%; background:var(--accent); box-shadow:0 0 12px var(--accent) }
.brand h1{ font-size:18px; margin:0 }
.brand .sub{ color:var(--muted); font-size:12px }

.controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
button, .file-btn{
  background:var(--panel); border:1px solid #222634; color:var(--text);
  padding:10px 12px; border-radius:10px; cursor:pointer;
  box-shadow: var(--shadow);
}
button:hover, .file-btn:hover{ border-color:#2b3246 }
button.danger{ border-color:#3b1f27; background:linear-gradient(180deg,#201217,#161018); color:#ffb5b5 }

.select-wrap{ display:flex; gap:6px; align-items:center; color:var(--muted) }
.select-wrap select{
  background:var(--panel); color:var(--text); border:1px solid #222634; border-radius:10px;
  padding:8px 10px;
}

.file-btn{ position:relative; overflow:hidden; display:inline-flex; align-items:center; gap:8px }
.file-btn input{ position:absolute; inset:0; opacity:0; cursor:pointer }

.project-bar{
  display:grid; grid-template-columns: 1.2fr 1.8fr; gap:12px;
  padding:18px; margin:16px; border-radius:var(--radius);
  background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  box-shadow: var(--shadow);
}
.project-bar input{
  background:#0f121a; color:var(--text); border:1px solid #222634; border-radius:10px;
  padding:12px 14px; width:100%;
}

.timeline{
  display:grid; gap:14px; grid-template-columns: repeat(3, 1fr);
  padding:16px; margin:16px; border-radius:var(--radius);
  background:linear-gradient(180deg, #0e1119 0%, #0c0f16 100%);
  border:1px solid #1a1f2c; box-shadow: var(--shadow);
  min-height:55vh;
}
.timeline.four{ grid-template-columns: repeat(4, 1fr) }
.timeline.twelve{ grid-template-columns: repeat(4, 1fr) } /* 12-beat groups to 4 columns */

.lane{
  display:flex; flex-direction:column; gap:10px;
  background:rgba(255,255,255,.02); border:1px dashed #2a3146; border-radius:12px;
  padding:12px; min-height:280px;
}
.lane-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:4px }
.lane-title{ font-weight:600; letter-spacing:.2px }
.lane-count{ color:var(--muted); font-size:12px }

.beat{
  background:linear-gradient(180deg, #151a26 0%, #121622 100%);
  border:1px solid #242a3d; border-radius:12px; padding:10px; gap:8px;
  box-shadow: var(--shadow);
}
.beat.dragging{ opacity:.5; transform:scale(.98) }
.beat-header{ display:flex; gap:6px; align-items:center; justify-content:space-between }
.beat-handle{ cursor:grab; font-size:18px; line-height:1; user-select:none }
.beat input.title{
  width:100%; background:#0f131d; color:var(--text); border:1px solid #2a3146; border-radius:8px; padding:8px 10px;
}
.beat textarea.summary{
  width:100%; min-height:70px; resize:vertical; background:#0f131d; color:var(--text);
  border:1px solid #2a3146; border-radius:8px; padding:8px 10px; margin-top:8px;
}
.beat .mini{ display:flex; gap:8px; align-items:center }
.beat .pill{ font-size:11px; color:#cfd3e6; padding:4px 8px; border-radius:999px; background:#1a1f30; border:1px solid #2a3146 }
.beat .delete{ background:#1b1316; color:#ffb5b5; border-color:#3b1f27 }

.placeholder{
  height:56px; border:2px dashed var(--accent-2); border-radius:10px; opacity:.6
}

.statusbar{
  position:sticky; bottom:0; background:#0b0c10; padding:8px 14px; color:var(--muted);
  border-top:1px solid #1d2130; font-size:12px
}

/* Small screens */
@media (max-width: 900px){
  .timeline{ grid-template-columns: 1fr }
  .timeline.four, .timeline.twelve{ grid-template-columns: 1fr }
}
